(this["webpackJsonpflone-react"]=this["webpackJsonpflone-react"]||[]).push([[15],{627:function(e,t,a){},688:function(e,t,a){"use strict";a.r(t);var c=a(57),n=a(26),l=(a(627),a(0)),r=a.n(l),o=a(6),m=a(35),s=a(121),i=a.n(s),u=a(52),d=a(44),E=(a(323),a(95)),p=a(63),b=a(122),y=a(120);t.default=Object(d.connect)((function(e){return{cartItems:e.cartData,currency:e.currencyData,products:e.productData}}),(function(e){return{addToCart:function(t,a,c){e(Object(p.f)(t,a,c))},decrementQty:function(t,a){e(Object(p.g)(t,a))},removeFromCart:function(t,a){e(Object(p.i)(t,a))},removeAllFromCart:function(t){e(Object(p.h)(t))},replace:function(t){e(Object(p.j)(t))}}}))((function(e){var t=e.isLogin,a=e.SetUserLogin,s=e.location,d=e.cartItems,p=e.products,f=e.currency,g=e.decrementQty,N=e.addToCart,h=e.removeFromCart,v=e.replace,C=e.removeAllFromCart,j=Object(l.useState)(1),O=Object(n.a)(j,1)[0],S=Object(m.useToasts)().addToast,k=Object(l.useState)(p.products),F=Object(n.a)(k,2),q=(F[0],F[1]),P=Object(l.useState)(d),w=Object(n.a)(P,2),x=w[0],T=w[1],_=Object(l.useState)(0),D=Object(n.a)(_,2),L=(D[0],D[1]),I=Object(l.useState)(!1),z=Object(n.a)(I,2),Q=z[0],U=z[1];console.log(x);var A=s.pathname,B=0;return Object(l.useEffect)((function(){T(d)}),[d]),Object(l.useEffect)((function(){U(!0),fetch("".concat("http://localhost:9000/sone/","getProducts")).then((function(e){return console.log(e),400==e.status&&S("Error while Fetching Products here",{appearance:"warning",autoDismiss:!0}),e.json()})).then((function(e){U(!1),q(e),console.log(e),function(e){console.log(x),x.forEach((function(t,a){var n=e.find((function(e){return console.log(e,t),e._id===t._id}));console.log(n),n?T((function(e){var t=Object(c.a)(e);return t[a].stock=n.stock,t[a].discountedPrice=n.discountedPrice,t[a].productName=n.productName,t[a].category=n.category,t[a].price=n.price,t[a].quantity>t[a].stock&&(t[a].quantity=t[a].stock),t})):delete x[a],console.log(x)})),v(x),L(0)}(e)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(l.Fragment,null,r.a.createElement(i.a,null,r.a.createElement("title",null,"Flone | Cart"),r.a.createElement("meta",{name:"description",content:"Cart page of flone react minimalist eCommerce template."})),r.a.createElement(u.BreadcrumbsItem,{to:"/"},"Home"),r.a.createElement(u.BreadcrumbsItem,{to:""+A},"Cart"),r.a.createElement(b.a,{SetUserLogin:a,headerTop:"visible",isLogin:t},r.a.createElement(y.a,null),r.a.createElement("div",{className:"cart-main-area pt-90 pb-100"},r.a.createElement("div",{className:"container"},Q&&r.a.createElement(E.a,null),x&&x.length>=1?r.a.createElement(l.Fragment,null,r.a.createElement("h3",{className:"cart-page-title"},"Your cart items"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"table-content table-responsive cart-table-content"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Unit Price"),r.a.createElement("th",null,"Qty"),r.a.createElement("th",null,"Subtotal"),r.a.createElement("th",null,"action"))),r.a.createElement("tbody",null,x.map((function(e,t){console.log(x,t),console.log(e,e.quantity);var a=e.discountedPrice,c=(e.price*f.currencyRate).toFixed(2),n=(a*f.currencyRate).toFixed(2),o=100-a/e.price*100;return o=Math.floor(o),B+=null!=a?n*e.quantity:c*e.quantity,r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"product-thumbnail"},r.a.createElement("img",{className:"img-fluid",src:"http://localhost:9000/static/"+e.image,alt:""}),e.productName,e.selectedProductColor&&e.selectedProductSize?r.a.createElement("div",{className:"cart-item-variation"},r.a.createElement("span",null,"Color: ",e.selectedProductColor),r.a.createElement("span",null,"Size: ",e.selectedProductSize)):""),r.a.createElement("td",{className:"product-price-cart"},null!==a?r.a.createElement(l.Fragment,null,r.a.createElement("span",{className:"amount old"},f.currencySymbol+c),r.a.createElement("span",{className:"amount"},f.currencySymbol+n)):r.a.createElement("span",{className:"amount"},f.currencySymbol+c)),r.a.createElement("td",{className:"product-quantity"},0===e.stock?"Out of Stock":r.a.createElement("div",{className:"cart-plus-minus"},r.a.createElement("button",{className:"dec qtybutton",onClick:function(){return g(e,S)}},"-"),r.a.createElement("input",{className:"cart-plus-minus-box",type:"text",value:e.quantity,readOnly:!0}),r.a.createElement("button",{className:"inc qtybutton",onClick:function(){return N(e,S,O)},disabled:void 0!==e&&e.quantity&&e.quantity>=e.stock},"+"))),r.a.createElement("td",{className:"product-subtotal"},null!==a?f.currencySymbol+(n*e.quantity).toFixed(2):f.currencySymbol+(c*e.quantity).toFixed(2)),r.a.createElement("td",{className:"product-remove"},r.a.createElement("button",{onClick:function(){return h(e,S)}},r.a.createElement("i",{className:"fa fa-times"}))))}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"cart-shiping-update-wrapper"},r.a.createElement("div",{className:"cart-shiping-update"},r.a.createElement(o.b,{to:"/"},"Continue Shopping")),r.a.createElement("div",{className:"cart-clear"},r.a.createElement("button",{onClick:function(){return C(S)}},"Clear Shopping Cart"))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-4 col-md-12"},r.a.createElement("div",{className:"grand-totall"},r.a.createElement("div",{className:"title-wrap"},r.a.createElement("h4",{className:"cart-bottom-title section-bg-gary-cart"},"Cart Total")),r.a.createElement("h5",null,"Total products"," ",r.a.createElement("span",null,f.currencySymbol+B.toFixed(2))),r.a.createElement("h4",{className:"grand-totall-title"},"Grand Total"," ",r.a.createElement("span",null,f.currencySymbol+B.toFixed(2))),t?r.a.createElement(o.b,{to:"/checkout"},"Proceed to Checkout"):r.a.createElement(o.b,{onClick:function(){S("Login to checkout",{appearance:"warning",autoDismiss:!0})},to:"/login-register"},"Proceed to Checkout"))))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"item-empty-area text-center"},r.a.createElement("div",{className:"item-empty-area__icon mb-30"},r.a.createElement("i",{className:"pe-7s-cart"})),r.a.createElement("div",{className:"item-empty-area__text"},"No items found in cart ",r.a.createElement("br",null)," ",r.a.createElement(o.b,{to:"/"},"Shop Now")))))))))}))}}]);
//# sourceMappingURL=15.f5d69bc2.chunk.js.map